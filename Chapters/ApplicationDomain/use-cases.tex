\subsection{Use cases} \label{sec:usecases}
All of the actors have different needs of the system and different accessibility to the system. The various different workflows each of them has is described in ten use cases, which are covered in this section.
\subsubsection{Access current handbook}
\input{Chapters/ApplicationDomain/UseCaseTables/Access-Tab}
\input{Chapters/ApplicationDomain/UseCaseStates/Access-Fig}

The main functionality that every actor needs is access to the current handbook. How they do so is described in \cref{tab:access-handbook} and shown in \cref{fig:access-handbook}.

\input{Chapters/ApplicationDomain/UseCaseTables/Access-Tab}
\input{Chapters/ApplicationDomain/UseCaseStates/Access-Fig}

There is a fork depending on whether it is the first time a user logs in because a new user is created, they have a username, a name/ID and a standard password.
For security reasons this standard password needs to be changed as otherwise anyone could log into the system with only a username.
The first login is also an account activation through which the password is changed and an e-mail address and phone number may be added.

As described in \cref{sec:CaseDescription} the current system is excessively complicated and it was therefore included in the system definition, see \cref{factor}, that the new system should ''facilitate an overview of current [...] versions''.
This is taken care of at the front page.
The documents relevant to the user are shown first, a feature specifically requested by Ipsen, and below all the chapters are visible providing an overview of the content in the handbook.
If a more detailed view is necessary it is possible to unfold a single chapter or all of them.


\subsubsection{Add new file to the system}
As described in \cref{sec:classdiagramhandbook} the system consists of both documents and versions where documents are the structural entities enabling the organizational features of the system and versions contain the files and thereby the actual contents of the handbook.
Adding versions as additions to an existing documents as well as creating a new document along with a version is described in \cref{tab:add-file} and visualized in \cref{fig:add-file}.

\input{Chapters/ApplicationDomain/UseCaseTables/Add-Doc-Tab}
\input{Chapters/ApplicationDomain/UseCaseStates/Add-Doc-Fig}

Whether a changelog is prompted during upload depends on the system settings.
This is because only some standards require it as explained in \cref{sec:CaseDescription}.

Adding approvers varies slightly depending on the user's role:
A writer has to add at least one administrator, while an administrator does not have to add anyone at all.
If the administrator elects not to add anyone they are automatically assigned as the sole approver of the document.
They still have to approve it but they can do so unilaterally

It is worth noting that it is also possible to add a new document without attaching any file.
The former design did not offer the option of attaching the file immediately but required that the user first made a new document and then made a version to attach to that document.
During the first usability test, see \cref{labellist}, this workflow was a source for confusion and therefore it was changed.
The reason that the empty document remains an option is that it provides the possibility to structure the handbook without necessarily having all of the contents.
Additionally it also serves to save an ID and title combination as these cannot be reused. 

\subsubsection{Approve new version or document}
A file is not a part of the handbook before it has been approved.
Until then only the people assigned as approvers has access to the file and only through the notification horn in the upper right corner or the relevant documents section.
An administrator can also view all pending approvals.
The approval process is described in \cref{tab:approve} and visualized in \cref{fig:approve}.

\input{Chapters/ApplicationDomain/UseCaseTables/Approve-Tab}
%\input{Chapters/ApplicationDomain/UseCaseStates/Approve-Fig}

If someone were to make a mistake in the process of adding a file to the handbook an approval can be deleted or edited.
It is assumed that if e.g. a wrong file was uploaded it would be discovered during the approval process and therefore not approved.
This is also the reason why even if the administrator can approve unilaterally they cannot approve in the same process as they upload.
Once the document has been approved it is added to the handbook and everyone can access it from the front page.

\subsubsection{Access archive}
As per the requirements in \cref{sec:CaseDescription} the documents cannot just be deleted when they ar eno longer needed in the handbook.
Therefore, when a version or a document becomes obsolete they are archived.
This may be because a more recent version is available or because the information they contain is no longer needed.
In the first case the old version is automatically added to the archive as soon as the new one has been approved.
In the second case an administrator has the power to archive a document without replacing it.
The archive is rarely accessed and is typically only needed during an audit.

\input{Chapters/ApplicationDomain/UseCaseTables/Archive-Tab}
\input{Chapters/ApplicationDomain/UseCaseStates/Archive-Fig}

As described in ISO the technical requirement is that the documents should be kept usually between three and five years.
This resulted in a system definition stating that there should be an adjustable archive time.
However, as described in \cref{labellist}, it was discovered that in practice the files are usually kept indefinitely as deleting the files were too much work.
Additionally the file integrity is of upmost importance, see \cref{labellist}.
As space is clearly not a problem, but the prospect of accidentally deleting a file is it was decided that deleting files from the archive is not an option.
Should somebody accidentally upload the wrong file this should be discovered before the file is approved and added to the handbook as per the approve file use case \cref{labellist}.

\input{Chapters/ApplicationDomain/UseCaseTables/Add-User-Tab}
%\input{Chapters/ApplicationDomain/UseCaseStates/Add-User-Fig}

NAme /ID + username

In early designs the user was activated through an e-mail address or phone number authentication.
However as seen in \cref{tab:actor-reader} not all of the system's users have a work related e-mail address or phone number.
As seen in Actor table not all of the users have a work related e-mail address or phone number.
Therefore it is not possible for the system to authenticate a user through an e-mail, which was the case in earlier designs.
Instead the workaround of a standard password was introduced.
When the administrator creates a user they set their name and username.
The user themself can always edit their username by going to setting which is modelled in.
The administrator can also set an e-mail and/or phone number.
However the administrator does not choose the password for the user and their is no other means through which the user can receive a password.
This means that there is a timeframe in which anyone could access the archive with only a username.
This workflow assumes that the user will activate their account immediately after getting it.

\input{Chapters/ApplicationDomain/UseCaseTables/Edit-User-Tab}
\input{Chapters/ApplicationDomain/UseCaseStates/Profile-Fig}

\input{Chapters/ApplicationDomain/UseCaseTables/User-Man-Tab}
\input{Chapters/ApplicationDomain/UseCaseStates/User-Man-Fig}
not available to the everyday user as they 
Worth noting. The administrator can change a user's name while the user themself can change their user name.
\input{Chapters/ApplicationDomain/UseCaseTables/Mark-Read-Tab}
%\input{Chapters/ApplicationDomain/UseCaseStates/Mark-Read-Fig}

The only use case administrator cannot do.

\input{Chapters/ApplicationDomain/UseCaseTables/Read-Status-Tab}
\input{Chapters/ApplicationDomain/UseCaseStates/ReadStatus-Fig}

\input{Chapters/ApplicationDomain/UseCaseTables/Dep-Man-Tab}
\input{Chapters/ApplicationDomain/UseCaseStates/Dep-Man-Fig}

