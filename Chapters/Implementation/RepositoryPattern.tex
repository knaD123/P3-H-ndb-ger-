\section{Repository Pattern}
In this project the repository pattern was used.
It abstracts communication with the database, allowing for easily replacing it if necessary, and mocking it during unit tests.

An example of a repository pattern is as follows
\lstinputlisting[language={[Sharp]C}]{OBHandbooks/OBHandbooks/Repositories/IApprovalRepository.cs}
The interface is then in turn implemented by a class which is added to the controllers using dependency injection.
As an example, the document controller is instantiated with each of the repositories it uses.
\lstinputlisting[firstline=29, lastline=44, language={[Sharp]{C}}]{OBHandbooks/OBHandbooks/Controllers/DocumentController.cs}
When unit testing the controllers, the Moq framework is used to create mock objects of the interfaces, enabling the tests to focus on the controllers.
